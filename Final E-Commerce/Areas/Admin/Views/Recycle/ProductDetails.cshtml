@model DetailVM
@{
    ViewData["Title"] = "ProductDetails";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}


<div class="container">
    <div style="display:flex; flex-direction:row; justify-content:space-around; flex-wrap: wrap;">
        @foreach (var item in Model.Product.ProductImages)
        {
            <img width="250" class="m-3" src="~/images/products/@item.ImageUrl" />
        }
    </div>
    <div class="row col-12 d-flex flex-row justify-content-center">
        <a class="text-light btn btn-primary w-25" asp-action="EditPictures" asp-controller="product" asp-route-id="@Model.Product.Id">Edit Images</a>
    </div>


    <div class="row mt-5">
        <div class="col-lg-12">
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Added by:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @if (Model.Owner == null)
                    {
                        <i><b>System</b></i>
                    }
                    else
                    {
                        @Model.Owner.Fullname
                    }
                </div>
            </div>



            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Name:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Name
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Condition:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @(Model.Product.IsNew ? "New" : "Used")
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Price:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Price
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Discount Price:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @if (Model.Product.DiscountPercent > 0)
                    {
                        <span>@Model.Product.DiscountPrice </span> <span> (@Model.Product.DiscountPercent %)</span>
                    }
                    else
                    {
                        <span>0</span>
                    }
                </div>
            </div>
            @if (Model.Product.DiscountPercent > 0)
            {
                <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                    <b style="max-height:400px" class="col-2">
                        Discount ends:
                    </b>
                    <div style="max-height:400px" class="col-9 flex-nowrap">
                        <span class="text-dark">@Model.Product.DiscountUntil?.ToString("dddd, dd MMMM yyyy HH:mm:ss")</span>
                    </div>
                </div>

            }
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Category:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Category.Name
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Brand:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    <a asp-action="details" asp-controller="brand" asp-route-id="@Model.Product.BrandId">@Model.Product.Brand.Name <img width="50" src="~/images/Brands/@Model.Product.Brand.ImageUrl" /> </a>
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Tags:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @if (Model.Product.ProductTags != null)
                    {
                        foreach (var tag in Model.Product.ProductTags)
                        {
                            <span>@tag.Tags.Name</span>
                        }
                    }
                    else
                    {
                        <span>No tags</span>
                    }
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Info:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Description
                </div>
            </div>

            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Released:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.ReleaseDate
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    OS:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.OperationSystem
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    GPU:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.GPU
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Chipset:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Chipset
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Memory:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Memory
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Body:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Body
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Display:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Display
                </div>
            </div>
            @if (Model.Product.FrontCamera != null)
            {
                <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                    <b style="max-height:400px" class="col-2">
                        Selfie:
                    </b>
                    <div style="max-height:400px" class="col-9 flex-wrap">
                        @Model.Product.FrontCamera
                    </div>
                </div>
            }

            @if (Model.Product.RearCamera != null)
            {
                <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                    <b style="max-height:400px" class="col-2">
                        Camera:
                    </b>
                    <div style="max-height:400px" class="col-9 flex-wrap">
                        @Model.Product.RearCamera
                    </div>
                </div>
            }
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Battery:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Battery
                </div>
            </div><div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Weight:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Weight
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-5">
        <div class="col-lg-12">

            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    In stock:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Count
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Created:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @if (Model.Product.CreatedTime == null)
                    {
                        <i><b>System</b></i>
                    }
                    else
                    {
                        @Model.Product.CreatedTime?.ToString("dddd, dd MMMM yyyy HH:mm:ss")
                    }
                </div>
            </div>

            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Updated at:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @if (Model.Product.LastUpdatedAt == null)
                    {
                        <i><b>Not updated yet</b></i>
                    }
                    else
                    {
                        @Model.Product.LastUpdatedAt?.ToString("dddd, dd MMMM yyyy HH:mm:ss")
                    }
                </div>
            </div>

            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Sold:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Sold
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Profit:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    $@Model.Product.Profit
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Views:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.Views
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Deleted at:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.DeletedAt
                </div>
            </div>
            <div style="max-height:400px" class="col-12 d-flex flex-row p-2">
                <b style="max-height:400px" class="col-2">
                    Deleted by:
                </b>
                <div style="max-height:400px" class="col-9 flex-nowrap">
                    @Model.Product.DeletedBy
                </div>
            </div>
        </div>
    </div>
    <div class="row bg-gray d-flex flex-row justify-content-around mt-5 flex-wrap">
        <a class="btn btn-primary w-25" asp-action="index" asp-controller="product">Go back</a>

        <a class="btn btn-success text-light w-25" asp-action="RecoverProduct" asp-route-id="@Model.Product.Id">Recover</a>

    </div>
</div>

